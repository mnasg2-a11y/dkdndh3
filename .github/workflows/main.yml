name: Persistent-VPS
on:
  workflow_dispatch:
  schedule:
    - cron: '0 */5 * * *'  # ÙŠØ¹ÙŠØ¯ ØªØ´ØºÙŠÙ„ Ù†ÙØ³Ù‡ ÙƒÙ„ 5 Ø³Ø§Ø¹Ø§Øª (Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù€6 Ø³Ø§Ø¹Ø§Øª)

jobs:
  secure-vps:
    runs-on: ubuntu-latest
    timeout-minutes: 0
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Restore Data
        run: |
          git config --global user.name "VPS-Bot"
          git config --global user.email "bot@vps.com"
          mkdir -p ~/my_data
          echo "âœ… ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"

      - name: Install & Configure SSH
        run: |
          sudo apt update -y
          sudo apt install -y openssh-server curl wget
          sudo systemctl enable ssh
          sudo systemctl start ssh
          
          # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… SSH
          echo "root:GitHubVPS2024!" | sudo chpasswd
          
          # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª SSH Ø«Ø§Ø¨ØªØ©
          sudo sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config
          sudo sed -i 's/PasswordAuthentication no/PasswordAuthentication yes/' /etc/ssh/sshd_config
          echo "ClientAliveInterval 60" | sudo tee -a /etc/ssh/sshd_config
          echo "ClientAliveCountMax 120" | sudo tee -a /etc/ssh/sshd_config
          
          sudo systemctl restart ssh
          echo "âœ… SSH Ø¬Ø§Ù‡Ø²: root@[IP] | ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: GitHubVPS2024!"

      - name: Install Tailscale with Persistent Config
        run: |
          # ØªØ«Ø¨ÙŠØª Tailscale
          curl -fsSL https://tailscale.com/install.sh | sh
          
          # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªÙƒÙˆÙŠÙ† Ø¯Ø§Ø¦Ù… Ù„Ù€ Tailscale
          sudo mkdir -p /etc/tailscale
          
          # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§Ø¦Ù…Ø§Ù‹
          cat << EOF | sudo tee /etc/tailscale/persistent-config.sh
          #!/bin/bash
          # Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª ÙŠØ¶Ù…Ù† Ø£Ù† Tailscale ÙŠØ³ØªØ®Ø¯Ù… Ù†ÙØ³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹
          
          # Ø§Ø³Ù… Ø§Ù„Ù…Ø¶ÙŠÙ Ø§Ù„Ø«Ø§Ø¨Øª
          HOSTNAME="persistent-vps-$(hostname -s)"
          
          # ØªØ´ØºÙŠÙ„ Tailscale Ø¨Ù†ÙØ³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¯Ø§Ø¦Ù…Ø§Ù‹
          sudo tailscale up \\
            --authkey=${{ secrets.TAILSCALE_AUTH_KEY }} \\
            --hostname="\$HOSTNAME" \\
            --advertise-exit-node \\
            --accept-dns=false \\
            --accept-routes \\
            --reset
          
          # Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP
          sleep 10
          
          # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP ÙˆØ¹Ø±Ø¶Ù‡
          TS_IP=\$(tailscale ip -4 | head -n 1)
          echo "PERSISTENT_IP=\$TS_IP" >> /etc/tailscale/ip.conf
          echo "âœ… Tailscale IP Ø«Ø§Ø¨Øª: \$TS_IP"
          EOF
          
          sudo chmod +x /etc/tailscale/persistent-config.sh
          
          # ØªØ´ØºÙŠÙ„ Tailscale Ø¨Ù†ÙØ³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
          sudo /etc/tailscale/persistent-config.sh
          
          # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP ÙˆØ­ÙØ¸Ù‡ ÙƒÙ…ØªØºÙŠØ± Ø¨ÙŠØ¦Ø©
          tsIP=$(tailscale ip -4 | head -n 1)
          echo "TAILSCALE_IP=$tsIP" >> $GITHUB_ENV
          
          # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ù„Ø­ÙØ¸ IP Ø§Ù„Ø³Ø§Ø¨Ù‚
          echo "PREVIOUS_IP=$tsIP" | sudo tee /tmp/previous_ip.txt
          
          # Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
          echo "========================================="
          echo "ğŸŒ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Tailscale Ø§Ù„Ø«Ø§Ø¨ØªØ©:"
          echo "âœ… Ø§Ù„Ù…Ø¶ÙŠÙ: persistent-vps-$(hostname -s)"
          echo "ğŸ“ IP Ø§Ù„Ø­Ø§Ù„ÙŠ: $tsIP"
          echo "ğŸ”‘ ØªÙ… Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… AuthKey"
          echo "========================================="

      - name: Create Auto-Reconnect Service
        run: |
          # Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ø§ØªØµØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
          cat << 'EOF' | sudo tee /etc/systemd/system/tailscale-autoreconnect.service
          [Unit]
          Description=Tailscale Auto-Reconnect Service
          After=network.target tailscale.service
          Wants=tailscale.service
          
          [Service]
          Type=simple
          ExecStart=/bin/bash -c '
            while true; do
              # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Tailscale ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
              if ! tailscale status 2>/dev/null | grep -q "active"; then
                echo "ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Tailscale..."
                sudo tailscale up --authkey=${{ secrets.TAILSCALE_AUTH_KEY }} --hostname=persistent-vps-$(hostname -s) --reset
                sleep 10
                NEW_IP=$(tailscale ip -4 | head -n 1)
                echo "âœ… ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ - IP Ø¬Ø¯ÙŠØ¯: $NEW_IP"
              fi
              sleep 60
            done
          '
          Restart=always
          RestartSec=10
          
          [Install]
          WantedBy=multi-user.target
          EOF
          
          sudo systemctl daemon-reload
          sudo systemctl enable tailscale-autoreconnect
          sudo systemctl start tailscale-autoreconnect
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ"

      - name: Setup Early Session Renewal
        run: |
          # Ø³ÙƒØ±ÙŠØ¨Øª Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø© Ù‚Ø¨Ù„ Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ù†ØªÙ‡Ø§Ø¦Ù‡Ø§
          cat << 'EOF' | sudo tee /usr/local/bin/renew_session.sh
          #!/bin/bash
          # Ø³ÙƒØ±ÙŠØ¨Øª ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø© - ÙŠØ¹Ù…Ù„ Ù‚Ø¨Ù„ Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
          
          # ÙˆÙ‚Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©
          SESSION_START=$(date +%s)
          # Ù…Ø¯Ø© Ø§Ù„Ø¬Ù„Ø³Ø© (5 Ø³Ø§Ø¹Ø§Øª - 1 Ø³Ø§Ø¹Ø© = 4 Ø³Ø§Ø¹Ø§Øª)
          SESSION_DURATION=14400  # 4 Ø³Ø§Ø¹Ø§Øª * 3600 Ø«Ø§Ù†ÙŠØ©
          RENEW_EARLY=3600        # Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
          
          echo "â° Ø¨Ø¯Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©..."
          echo "   ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: $(date -d @$SESSION_START)"
          echo "   Ø³ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ: $(date -d @$(($SESSION_START + $SESSION_DURATION)))"
          echo "   Ø³ÙŠØªÙ… Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ ÙÙŠ: $(date -d @$(($SESSION_START + $SESSION_DURATION - $RENEW_EARLY)))"
          
          while true; do
            CURRENT_TIME=$(date +%s)
            TIME_ELAPSED=$((CURRENT_TIME - SESSION_START))
            TIME_REMAINING=$((SESSION_DURATION - TIME_ELAPSED))
            
            if [ $TIME_REMAINING -le $RENEW_EARLY ] && [ $TIME_REMAINING -gt 0 ]; then
              echo "ğŸ”„ Ø­Ø§Ù† ÙˆÙ‚Øª ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø© (Ù…ØªØ¨Ù‚ÙŠ: $TIME_REMAINING Ø«Ø§Ù†ÙŠØ©)"
              
              # Ø­ÙØ¸ IP Ø§Ù„Ø­Ø§Ù„ÙŠ
              CURRENT_IP=$(tailscale ip -4 | head -n 1)
              echo "ğŸ’¾ Ø­ÙØ¸ IP Ø§Ù„Ø­Ø§Ù„ÙŠ: $CURRENT_IP"
              echo "LAST_IP=$CURRENT_IP" | sudo tee /tmp/last_ip_saved.txt
              
              # Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± (ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù‡Ù†Ø§)
              echo "ğŸ“¢ ØªÙ… Ø­ÙØ¸ IP: $CURRENTIP Ù„Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©"
              
              # Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø­Ù„Ù‚Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯
              break
            fi
            
            # Ø¹Ø±Ø¶ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
            if [ $((TIME_ELAPSED % 300)) -eq 0 ]; then
              MINUTES_REMAINING=$((TIME_REMAINING / 60))
              echo "â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ø¬Ù„Ø³Ø©: $MINUTES_REMAINING Ø¯Ù‚ÙŠÙ‚Ø©"
            fi
            
            sleep 60
          done
          
          echo "âœ… ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø© Ø¨Ù†Ø¬Ø§Ø­"
          EOF
          
          sudo chmod +x /usr/local/bin/renew_session.sh
          
          # ØªØ´ØºÙŠÙ„ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
          /usr/local/bin/renew_session.sh &
          
          echo "âœ… ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù†Ø¸Ø§Ù… ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ"

      - name: Create Persistent IP Service
        run: |
          # Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© ØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ù†ÙØ³ IP
          cat << 'EOF' | sudo tee /etc/systemd/system/persistent-ip.service
          [Unit]
          Description=Persistent IP Service
          After=tailscale.service
          Wants=tailscale.service
          
          [Service]
          Type=simple
          ExecStart=/bin/bash -c '
            # Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… IP Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
            if [ -f /tmp/last_ip_saved.txt ]; then
              source /tmp/last_ip_saved.txt
              echo "ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† IP Ø§Ù„Ø³Ø§Ø¨Ù‚: $LAST_IP"
              
              # Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
              sudo tailscale up \\
                --authkey=${{ secrets.TAILSCALE_AUTH_KEY }} \\
                --hostname=persistent-vps-$(hostname -s) \\
                --advertise-exit-node \\
                --accept-dns=false \\
                --reset
              
              # Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP
              sleep 15
              
              CURRENT_IP=$(tailscale ip -4 | head -n 1)
              echo "ğŸ“ IP Ø§Ù„Ø­Ø§Ù„ÙŠ: $CURRENT_IP"
              echo "ğŸ“ IP Ø§Ù„Ø³Ø§Ø¨Ù‚: $LAST_IP"
              
              if [ "$CURRENT_IP" = "$LAST_IP" ]; then
                echo "ğŸ‰ ØªÙ… Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù†ÙØ³ IP!"
              else
                echo "âš ï¸ IP ØªØºÙŠØ±ØŒ Ù„ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ù„Ø§ ÙŠØ²Ø§Ù„ Ù†Ø´Ø·Ø§Ù‹"
              fi
            else
              echo "ğŸ†• Ø¨Ø¯Ø§ÙŠØ© Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©"
            fi
            
            # Ù…Ø±Ø§Ù‚Ø¨Ø© IP ÙˆØ¹Ø±Ø¶Ù‡ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±
            while true; do
              IP=$(tailscale ip -4 | head -n 1)
              echo "ğŸŒ IP Ø§Ù„Ù†Ø´Ø·: $IP | Ø§Ù„ÙˆÙ‚Øª: $(date)"
              sleep 300  # ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
            done
          '
          Restart=always
          RestartSec=10
          
          [Install]
          WantedBy=multi-user.target
          EOF
          
          sudo systemctl daemon-reload
          sudo systemctl enable persistent-ip
          sudo systemctl start persistent-ip
          
          echo "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© IP Ø§Ù„Ø«Ø§Ø¨ØªØ©"

      - name: Keep VPS Alive with Same IP Forever
        run: |
          echo "========================================="
          echo "ğŸš€ VPS Ø¯Ø§Ø¦Ù… Ø¨Ù€ IP Ø«Ø§Ø¨Øª!"
          echo "========================================="
          
          # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP Ø§Ù„Ø­Ø§Ù„ÙŠ
          CURRENT_IP=$(tailscale ip -4 | head -n 1)
          
          echo "ğŸŒ *Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø«Ø§Ø¨ØªØ©:*"
          echo "ğŸ“ IP Ø§Ù„Ø­Ø§Ù„ÙŠ: $CURRENT_IP"
          echo "ğŸ“¡ Ø³ÙŠØ¨Ù‚Ù‰ Ù‡Ø°Ø§ IP ÙƒÙ…Ø§ Ù‡Ùˆ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†"
          echo "ğŸ–¥ï¸  SSH: ssh root@$CURRENT_IP"
          echo "ğŸ”‘ Password: GitHubVPS2024!"
          echo ""
          echo "âš™ï¸ *Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø¶Ù…Ù†Ø©:*"
          echo "âœ… Ø¥Ø¹Ø§Ø¯Ø© Ø§ØªØµØ§Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ù€ Tailscale"
          echo "âœ… ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø© Ù‚Ø¨Ù„ Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ù†ØªÙ‡Ø§Ø¦Ù‡Ø§"
          echo "âœ… Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù†ÙØ³ IP"
          echo "âœ… Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø³ØªÙ…Ø±Ø© Ù„Ù„Ø­Ø§Ù„Ø©"
          echo ""
          echo "ğŸ”§ *Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠØ©:*"
          echo "â° Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ: ÙƒÙ„ 5 Ø³Ø§Ø¹Ø§Øª"
          echo "ğŸ”„ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©: Ù‚Ø¨Ù„ Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡"
          echo "ğŸ“¡ ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„: ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©"
          echo ""
          echo "ğŸ“ *Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø¢Ù†:*"
          echo "ssh root@$CURRENT_IP"
          echo "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: GitHubVPS2024!"
          echo ""
          echo "[$(date)] Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯Ø§Ø¦Ù…..."
          
          # Ø­ÙØ¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ÙÙŠ Ù…Ù„Ù
          cat << EOF > /tmp/connection_info.txt
          =========================================
          Ø§ØªØµØ§Ù„ VPS Ø§Ù„Ø¯Ø§Ø¦Ù…
          =========================================
          IP: $CURRENT_IP
          SSH: ssh root@$CURRENT_IP
          Password: GitHubVPS2024!
          Start Time: $(date)
          Features:
          - Auto-reconnect to Tailscale
          - Session renewal 1 hour before end
          - Persistent IP maintenance
          =========================================
          EOF
          
          echo "ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ÙÙŠ /tmp/connection_info.txt"
          
          # Ø­Ù„Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
          counter=1
          while true; do
            echo ""
            echo "========================================="
            echo "ğŸ• [$(date)] - Ø§Ù„Ø³Ø§Ø¹Ø© $counter Ù…Ù† Ø§Ù„ØªØ´ØºÙŠÙ„"
            echo "========================================="
            
            # Ø¹Ø±Ø¶ IP Ø§Ù„Ø­Ø§Ù„ÙŠ
            CURRENT_IP=$(tailscale ip -4 | head -n 1)
            echo "ğŸ“ IP Ø§Ù„Ø­Ø§Ù„ÙŠ: $CURRENT_IP"
            echo "ğŸ”Œ SSH: ssh root@$CURRENT_IP"
            echo "ğŸ” Password: GitHubVPS2024!"
            
            # Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
            echo ""
            echo "ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª:"
            echo "   SSH: $(sudo systemctl is-active ssh)"
            echo "   Tailscale: $(tailscale status | head -1 | awk '{print $1}')"
            echo "   Auto-Reconnect: $(sudo systemctl is-active tailscale-autoreconnect)"
            echo "   Persistent IP: $(sudo systemctl is-active persistent-ip)"
            
            # Ø¹Ø±Ø¶ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒÙ„ 10 Ø³Ø§Ø¹Ø§Øª
            if (( counter % 10 == 0 )); then
              echo ""
              echo "ğŸ” ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…:"
              echo "   Ø§Ù„Ø°Ø§ÙƒØ±Ø©: $(free -h | grep Mem | awk '{print $3"/"$2 " (" $4 " free)"}')"
              echo "   Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬: $(top -bn1 | grep "Cpu(s)" | awk '{print $2 "% used"}')"
              echo "   Ø§Ù„ØªØ®Ø²ÙŠÙ†: $(df -h / | tail -1 | awk '{print $3"/"$2 " (" $5 " used)"}')"
              echo "   ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„: $(uptime -p)"
            fi
            
            # Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ© ÙƒÙ„ Ø³Ø§Ø¹Ø©
            if (( counter % 1 == 0 )); then
              echo ""
              echo "ğŸ’¡ *ØªØ°ÙƒÙŠØ±:* Ù‡Ø°Ø§ VPS Ø³ÙŠØ¨Ù‚Ù‰ ÙŠØ¹Ù…Ù„ Ø¨Ù†ÙØ³ IP!"
              echo "   Ø­ØªÙ‰ Ø¥Ø°Ø§ Ø£Ø¹ÙŠØ¯ ØªØ´ØºÙŠÙ„Ù‡ØŒ Ø³ÙŠØ­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ IP"
              echo "   Ù„Ù„Ø§ØªØµØ§Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø§Ø³ØªØ®Ø¯Ù…: ssh root@$CURRENT_IP"
            fi
            
            # Ø§Ù„Ù†ÙˆÙ… Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹Ø©
            sleep 3600
            counter=$((counter + 1))
            
            # ØªÙ†Ø¸ÙŠÙ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø¯ÙˆØ±ÙŠ ÙƒÙ„ 24 Ø³Ø§Ø¹Ø©
            if (( counter % 24 == 0 )); then
              echo ""
              echo "ğŸ§¹ ØªÙ†Ø¸ÙŠÙ ÙˆØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ©..."
              sudo systemctl restart ssh
              echo "âœ… ØªÙ…Øª ØµÙŠØ§Ù†Ø© Ø§Ù„Ù†Ø¸Ø§Ù…"
            fi
          done
